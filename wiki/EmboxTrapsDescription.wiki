#summary This page describes concept of traps working.

<wiki:toc max_depth="2" />

Trap (or exception) - a type of synchronous interrupt typically caused by an exceptional condition.

= Types =
== Hardware exception ==
Exception, generated by device to get attention. Can be masked. After exception program flow continues from arch-specific point, `hw_excp_handler`. Arch-specific handler determs device triggered exception, stores cpu context for continue after exception handling and pass control for arch-independent handler, called `irq_dispatch`.

== Traps ==
Exception, generated by illegal operation. Cannot be masked. After exception program flow continues from arch-specific point, `trap_handler`, which have a small number of choises, such as perform hardware test, stop exception-cause program.

== Software exception ==
Exception, generated by special operation to call some OS function. Can be masked. After exception program flow continues from arch-specific point, `sw_excp_handler`. Arch-independent handler stores cpu context and pass control for specified function.


