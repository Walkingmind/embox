#summary How to execute elf file in embox.

== Что делать ==

В embox можно выполнять elf файлы. На данный момент опция протестирована для microblaze (но там есть проблема, что у нас нет многопоточности, следовательно, запускаемый файл нельзя запускать в новом потоке и система исчезнет). На sparc единственная проблема пока что в том, что неизвестно, как помещать в память файл и узнавать его местоположение там. А в принципе работать должно.

Выполнение файла совершается командой
{{{
runelf -a addr
}}}
где addr - адрес выполняемого файла в памяти.

Естественно, файл должен быть скомпилирован под платформу, на которой будет запускаться.

== Пример ==

Собственно, как проходило тестирование.

Был создан template microblaze->piggy_embox (он и будет запускаться командой, назовем его подчиненным). Важно то, что  sdram у него устанавливается 0x45000000, в то время, как "главный" (вызывающий) embox загружается по адресу 0x44000000.
Сначала на плату заливался подчиненный бинарник по адресу 0x46000000, причем подавался не как elf, а как data file. Потом загружался главный. В командной строке у него вводилась строка
{{{
runelf -a 0x46000000
}}}
После этого уже выполняется piggy_embox.