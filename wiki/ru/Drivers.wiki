#summary Drivers description

Драйвер это модуль, предоставляющий интерфейс для устройства. Задачей драйвера
является максимальное сокрытие способа работы с устройством, предоставление 
только функционального интерфейса. Драйвер, как правило, не содержит
общесистемной логики. 

Драйвер может управлять как аппаратным устройством, так и полностью программным,
работу которого драйвер эмулирует.

Устройство обычно может быть отнесено к определённому _классу_ устройств. В этом
случае, драйвер устройства реализует [интерфейс] класса, что позволяет сделать
обращение к драйверу по интерфейсу. Таким образом, связи между модулями 
становятся более слабымим, повышается гибкость системы.

Существует небольшое множество [Hal HAL]-драйверов, инициализация которых
проходит на одной из самых ранних стадий загрузки системы.

= Взаимодействие с устройством =
== Отображение в память ==

Взаимодействие с устройством происходит чтением или записью значений по адресам,
определённым производителем оборудования.

== Специальные инструкции == 
Взаимодействие происходит с использованием специальных команд процессора. Процессор
по указанию команд взаимодействует по собственной системной шине.

== Использование другого драйвера ==
Взаимодействие происходит посредством низкоуровневого драйвера, такого как драйвера
шины, радио-канала, сети. Взаимодействие ведётся по специальному протоколу, задаваемому
высокоуровневым драйвером.

= Схема работы драйвера =
== Инициализация ==

Драйвер сначала переводит устройство в определённое начальное состояние, при необходимости,
производит аппаратный перезапуск устройства. Далее происходит конфигурирование устройства
для работы в требуемом режиме.

== Работа ==

После конфигурации, драйвер переходит в ожидание сообщений от устройства. Сообщение может
приходить посредством:
 * аппаратного прерывавания, в этом случае драйвер устанавливает свой обработчик прерывания
 * установкой значения в регистре устройства, в этом случае драйвер с заданной задержкой опрашивает устройство
о наличие сообщения

По запросу пользователя, драйвер заново производит конфигурацию устройства с запрашиваемыми параметрами.

== Деинициализация == 
При деинициализации устройства, драйвер особым образом конфигурирует устройство как неиспользуемое,
снимает обработчик прерывания, приостанавливает проверку состояния устройства.
