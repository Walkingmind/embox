
на этой странице описана релизация библиотек и функций для системы сборки Mybuild. они построены на основе [MybuildMakeLanguageExtension библиотеки расширения языка Make]

= mk.model - надстройка для моделирования =
Для моделирования большинства объектов системы сборки применяется технология EMF. В Mybuild используется несколько моделей, описанных в формате Ecore, из которых в процессе разработки генерируются определения классов на языке Make.

Архитектура во многом спроектирована под влиянием Ecore, в частности, используется похожая структура мета-типов, а также такие концепции как Resource и ResourceSet.

<img src="http://embox.googlecode.com/svn/wiki/images/Mybuild/mybuild-model.png />
== Генератор m2make ==
В процессе разработки для получения кода Make из моделей Ecore применяется генератор Xpand, являющийся частью проекта M2T (model-to-text). Xpand использует шаблоны генерации, расположенные в mk/model/m2make.

== Модель Emodel ==
В этой модели определяются базовые классы, используемые другими моделями (такие как EObject и ELink), а также мета-классы (например, EMetaClass и EMetaFeature). Для тех, кто знаком с EMF можно отметить, что Emodel - это просто упрощенная версия Ecore.

== О моделях и метамоделях ==
*Модель* - это набор объектов определенных классов. Класс, в свою очередь, это набор свойств, определяющих состояние объектов этого класса, и методов, которые определяют поведение. Объекты одной модели могут ссылаться на объекты другой.

*Метамодель* - это модель, описывающая другую модель. Таким образом, отношение модели к своей метамодели аналогично отношению объекта к своему классу. Например:
    * Внутреннее представление my-файла описывается метамоделью MyFile, то есть, my-файл - это экземпляр MyFile.
    * В свою очередь, модель MyFile - это экземпляр метамодели Emodel.
    * И наконец, модель Emodel описывается самой собой, таким образом, замыкая рекурсию.

<img src="http://embox.googlecode.com/svn/wiki/images/Mybuild/mybuild-metamodel.png />
= mk.mybuild - внутреннее представление Mybuild =
Компоненты, отвечающие за внутреннее представление системы сборки, можно условно разделить на:
    * my-file модель, представляющую my-файл, и средства для создания и компоновки таких моделей
    * config-file модель, представляет из себя набор аналогичный  my-file модели
    * Модель сборки, представляющую набор модулей со всеми разрешенными зависимостями и параметрами конфигурации

== Представление my-файлов ==
Синтаксис my-файла определяется BNF грамматикой mk/mybuild/myfile.grm. По данной грамматике в процессе разработки генерируется парсер. При разборе файла для каждого правила грамматики вызывается обработчик, создающий тот или иной объект модели. Модель описывается в файле mk/mybuild/myfile.ecore, ее структура является отражением грамматики.

== Представление config-файлов ==
Внутреннее представление config-файлов аналогично представлению my-файлов.

==Модель сборки ==
Модель сборки определяет конечную сборку для данной конфигурации. В отличие от моделей my- и config-файлов, которые создаются в результате разбора и компоновки соответствующих ресурсов, модель сборки выводится по определенному алгоритму с учетом информации о межмодульных зависимостях, специальных аннотаций и т.д.
