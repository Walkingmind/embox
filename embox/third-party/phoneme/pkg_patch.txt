diff -aur ../../../../../download/phoneme/cldc/src/vm/cpu/i386/kni_md.h phoneme/cldc/src/vm/cpu/i386/kni_md.h
--- ../../../../../download/phoneme/cldc/src/vm/cpu/i386/kni_md.h	2014-02-04 18:36:47.000000000 +0400
+++ phoneme/cldc/src/vm/cpu/i386/kni_md.h	2014-06-04 21:57:14.989035686 +0400
@@ -36,7 +36,7 @@
 typedef signed char jbyte;
 typedef int         jint;
 
-#ifndef LINUX
+#if !(defined LINUX) && !(defined __EMBOX__)
 typedef __int64     jlong;
 #else
 typedef long long jlong;
diff -aur ../../../../../download/phoneme/javacall/interface/javacall_defs.h phoneme/javacall/interface/javacall_defs.h
--- ../../../../../download/phoneme/javacall/interface/javacall_defs.h	2014-02-04 18:37:02.000000000 +0400
+++ phoneme/javacall/interface/javacall_defs.h	2014-06-04 23:29:02.555796870 +0400
@@ -260,11 +260,11 @@
  * @typedef javacall_pixel
  * @brief Pixel type for LCD graphics
  */
-#if ENABLE_DYNAMIC_PIXEL_FORMAT
+#if defined(ENABLE_DYNAMIC_PIXEL_FORMAT) && ENABLE_DYNAMIC_PIXEL_FORMAT
 typedef unsigned short javacall_pixel16;
 typedef unsigned int javacall_pixel32;
 typedef javacall_pixel32 javacall_pixel;
-#elif ENABLE_32BITS_PIXEL_FORMAT
+#elif defined(ENABLE_32BITS_PIXEL_FORMAT) && ENABLE_32BITS_PIXEL_FORMAT
 typedef unsigned int javacall_pixel;
 #else
 typedef unsigned short javacall_pixel;
