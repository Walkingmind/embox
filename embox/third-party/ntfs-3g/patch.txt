--- ntfs-3g_ntfsprogs-2013.1.13/configure.ac	2013-01-13 10:46:35.000000000 +0400
+++ ntfs-3g/configure.ac	2013-07-02 19:34:01.857239765 +0400
@@ -213,7 +213,7 @@
 if test "x${enable_ntfs_3g}" = "xyes"; then
 	AC_MSG_CHECKING([fuse compatibility])
 	case "${target_os}" in
-	linux*|solaris*)
+	none|linux*|solaris*)
 		AC_ARG_WITH(
 			[fuse],
 			[AS_HELP_STRING([--with-fuse=<internal|external>],[Select FUSE library: internal or external @<:@default=internal@:>@])],
@@ -303,15 +303,15 @@
 	# Libraries often install their metadata .pc files in directories
 	# not searched by pkg-config. Let's workaround this. 
 	export PKG_CONFIG_PATH=${PKG_CONFIG_PATH}:/lib/pkgconfig:/usr/lib/pkgconfig:/opt/gnome/lib/pkgconfig:/usr/share/pkgconfig:/usr/local/lib/pkgconfig:$prefix/lib/pkgconfig:/opt/gnome/share/pkgconfig:/usr/local/share/pkgconfig
-	PKG_CHECK_MODULES(
-		[FUSE_MODULE],
-		[fuse >= 2.6.0],
-		,
-		[
-			AC_MSG_ERROR([FUSE >= 2.6.0 was not found. Either older FUSE is still present, or FUSE is not fully installed (e.g. fuse, libfuse, libfuse2, libfuse-dev, etc packages). Source code: http://fuse.sf.net])
-		]
-	)
-	FUSE_LIB_PATH=`$PKG_CONFIG --libs-only-L fuse | sed -e 's,/[/]*,/,g' -e 's,[ ]*$,,'`
+	dnl PKG_CHECK_MODULES(
+	dnl	[FUSE_MODULE],
+	dnl	[fuse >= 2.6.0],
+	dnl	,
+	dnl	[
+	dnl		AC_MSG_ERROR([FUSE >= 2.6.0 was not found. Either older FUSE is still present, or FUSE is not fully installed (e.g. fuse, libfuse, libfuse2, libfuse-dev, etc packages). Source code: http://fuse.sf.net])
+	dnl	]
+	dnl )
+	dnl FUSE_LIB_PATH=`$PKG_CONFIG --libs-only-L fuse | sed -e 's,/[/]*,/,g' -e 's,[ ]*$,,'`
 fi
 
 # Autodetect whether we can build crypto stuff or not.
diff -aur ntfs-3g/ntfsprogs/Makefile.am ntfs-3g_ntfsprogs-2013.1.13/ntfsprogs/Makefile.am
--- ntfs-3g/ntfsprogs/Makefile.am	2013-07-03 17:21:38.955645438 +0400
+++ ntfs-3g_ntfsprogs-2013.1.13/ntfsprogs/Makefile.am	2013-01-13 10:46:35.000000000 +0400
@@ -14,7 +14,7 @@
 if ENABLE_NTFSPROGS
 
 bin_PROGRAMS		= ntfsfix ntfsinfo ntfscluster ntfsls ntfscat ntfscmp
-sbin_PROGRAMS		= mkntfs ntfslabel ntfsundelete ntfsresize ntfsclone \
+sbin_PROGRAMS		= mkntfs ntfslabel ntfsresize ntfsclone \
 			  ntfscp
 EXTRA_PROGRAM_NAMES	= ntfsdump_logfile ntfswipe ntfstruncate ntfsmove \
 			  ntfsmftalloc ntfsck
diff -aur ntfs-3g_ntfsprogs-2013.1.13/src/secaudit.c ntfs-3g/src/secaudit.c
--- ntfs-3g_ntfsprogs-2013.1.13/src/secaudit.c	2013-01-13 10:46:35.000000000 +0400
+++ ntfs-3g/src/secaudit.c	2013-07-04 17:19:35.287233107 +0400
@@ -1348,7 +1348,7 @@
  *		Redefine early error messages in stand-alone situations
  */
 
-void ntfs_log_early_error(const char *format, ...)
+void _ntfs_log_early_error(const char *format, ...)
 {
 	va_list args;
 
