package embox.kernel.cpu

@DefaultImpl(no_bkl)
abstract module bkl_api {
}

module no_bkl extends bkl_api {
	source "no_bkl_impl.h"
}

module bkl extends bkl_api {
	source "bkl.c"

	depends cpu_api
}

module common {
	source "common.c"

	depends embox.compat.posix.util.time
}

module libsched {
	source "libsched.c"
}

@DefaultImpl(onecpu)
abstract module cpu_api {
	depends common
}

module onecpu extends cpu_api {
	source "onecpu_impl.h"
}

module ncpu extends cpu_api {
	source "ncpu.c", "ncpu_impl.h", "ncpu.lds.S"
}

module stats {
	source "stats.c"

	depends cpu_api
	depends embox.compat.posix.util.time
}
