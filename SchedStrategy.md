# Стратегия планирования #
Как уже было сказано, в ОСРВ Embox можно выбирать стратегию планирования, наиболее подходящую системе для решения тех или иных задач. К примеру, когда у потоков в системе отсутствует приоритет и они должны выполняться в порядке их создания, то нам достаточно простейшей стратегии (trivial), и наоборот, когда порядок выполнения потоков задается их приоритетом, а так же может меняться в зависимости от готовности к исполнению этих потоков, то стратегия планирования использует более сложные алгоритмы и структуры (к примеру, priority\_based).

API стратегии планирования составляют четыре модуля:
  * Priority API - модуль, который отвечает за реализацию приоритета у потока. Приоритет потока может иметь разные представление. Это может быть число, приоритет может просто отсутствовать. В одной из реализаций API (thread\_priority) приоритет характеризуют два числа - base\_priority и current\_priority. Если нам на время нужно увеличить приоритет потока, то  current\_priority присваивается новый временный приоритет, а потом возвращается основной приоритет, то есть base\_priority.
  * Timing API - этот модуль отвечает за отсчет времени исполнения потока. Можно посмотреть, сколько исполняется какая-то конкретная функция этим потоком и т.д.
  * Affinity API - этот модель нужен только в случае SMP, он отвечает за то, на каком ядре может выполняться поток.
  * Runq - это та часть, которая отвечает за алгоритмы работы с очередями готовых к исполнению потоков. Поток мы можем вставить в очередь, удалить или извлечь из нее. Когда происходит перепланирование, планировщик достает из очереди поток, которому он предоставит ресурсы процессора. Таким образом, то, какой поток будет следующим - зависит от реализации этого модуля. Например, потоки в очереди могут идти в порядке приоритета.