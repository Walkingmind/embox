package embox.fs

module node {
    @IncludePath("$(SRC_DIR)/compat/linux/include") 
    @IncludePath("$(SRC_DIR)/compat/posix/include")
	source "node.c"
	option number fnode_quantity=32
}

module file_desc {
    @IncludePath("$(SRC_DIR)/compat/posix/include")
	source "file_desc.c"
	option number fdesc_quantity=32
}

module rootfs {
	source "rootfs.c"
	depends node, driver.repo
}

module core {
    @IncludePath("$(SRC_DIR)/compat/posix/include")
	source "file.c",
		"vfs.c",
		"fs.c",
		"kernel_posix_plugin.c"
	depends file_desc, node, rootfs
	depends embox.fs.driver.repo	
	depends embox.kernel.task_api
}

module ramdisk {
	source "ramdisk.c"
	depends node
	depends embox.fs.devfs
	depends embox.fs.driver.fat
	depends embox.mem.page_api
}

