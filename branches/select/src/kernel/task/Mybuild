package embox.kernel.task

@DefaultImpl(single)
abstract module api { 
	option number max_resource_size = 256
}

module task_environment { }

module kernel_task {
	source "common.c"
}

module multi extends api {
	option number tasks_quantity = 20

	source "multi.c"
	
	depends task_table
	depends kernel_task
	depends signal /* We really need multi without signals? */ 

	depends embox.kernel.thread.core
}

module task_table {
	source "task_table.c"
	depends embox.util.idx_table
}

module signal { 
	source "signal.c"
}

module single extends api {
	@IncludePath("$(SRC_DIR)/compat/posix/include")
	source "single.c"

	depends kernel_task
}

module idx_table extends task_environment {

	option number task_res_quantity = 32

	source "index_desc.c"
	depends embox.util.idx_table
	depends api
}

module errno {
	source "errno.c"
	depends api
}
