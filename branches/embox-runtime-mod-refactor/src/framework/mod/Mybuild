package embox.framework

@DefaultImpl(mod_full)
abstract module mod { }

module mod_full extends mod {

	source "embuild_full_impl.h"

	/*FIXME mybuild make flags options */
	@DefineMacro("__FRAMEWORK__")
	source "core.c"

	@DefineMacro("__EMBUILD__")
	@Generated(script="$(MAKE) -f mk/script/c-runtime-inject.mk")
	source "depsinject.c"

	@Generated(script="$(MAKE) -f mk/script/lds-apps.mk")
	source "apps.lds.S"

	depends embox.util.Array

	option boolean security_label = true
}

module mod_light extends mod {

	source "embuild_light_impl.h"

	@DefineMacro("__EMBUILD__")
	@Generated(script="$(MAKE) -f mk/script/c-runtime-inject-light.mk")
	source "depsinject.c"
}


