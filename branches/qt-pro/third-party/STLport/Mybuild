package third_party.STLport

@Build(script="$(MAKE) -C $(THIRDPARTY_DIR)/STLport MAKEFLAGS= EMBOX_CROSS_COMPILE='$(CROSS_COMPILE)' EMBOX_MAKEFLAGS='$(MAKEFLAGS)' ROOT_DIR=$(abspath $(ROOT_DIR)) EMBOX_CFLAGS='$(CFLAGS)' EMBOX_CXXFLAGS='$(CXXFLAGS)' EMBOX_CPPFLAGS='$(EMBOX_EXPORT_CPPFLAGS)'")
@BuildDepends(third_party.gcc.core)
static module core {
	@AddPrefix("../../../../stlport/embox-lib")
	source "libstlportg.a"
	source "empty.c" // FIXME: workaround

	@NoRuntime depends embox.lib.LibC
	@NoRuntime depends embox.lib.cxx.lib
	@NoRuntime depends third_party.gcc.core // FIXME
}
