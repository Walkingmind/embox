package third_party.qt

@Build(script="$(MAKE) -C $(THIRDPARTY_DIR)/qt MAKEFLAGS= EMBOX_ARCH='$(ARCH)' EMBOX_CROSS_COMPILE='$(CROSS_COMPILE)' EMBOX_MAKEFLAGS='$(MAKEFLAGS)' ROOT_DIR=$(abspath $(ROOT_DIR)) EMBOX_CFLAGS='$(CFLAGS)' EMBOX_CXXFLAGS='$(CXXFLAGS)' EMBOX_CPPFLAGS='$(EMBOX_EXPORT_CPPFLAGS)'")
//@BuildDepends(third_party.gcc.core)
//@BuildDepends(third_party.STLport.core)
static module core {
	option boolean stl_support=false

	@AddPrefix("../../../../qt/install/lib")
	source "libQtCore.a", "libQtGui.a", "libQtMultimedia.a",
		"libQtNetwork.a", "libQtSql.a", "libQtSvg.a",
		"libQtTest.a", "libQtXml.a"

	@NoRuntime depends embox.lib.LibC
	@NoRuntime depends embox.lib.cxx.lib
	@NoRuntime depends embox.compat.posix.fs.dirent
	@NoRuntime depends embox.fs.rootfs
	@NoRuntime depends embox.compat.posix.LibPosix
}

@BuildDepends(third_party.qt.core)
module plugin_importer {
	@IncludePath("$(BUILD_DIR)/../qt/build/include")
	@IncludePath("$(BUILD_DIR)/../qt/build/include/QtCore")
	source "plugin_importer.cpp"

	@NoRuntime depends third_party.qt.core
}
