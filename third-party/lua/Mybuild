package third_party.lua

module lua_core {
	@IncludePath("$(SRC_DIR)/compat/posix/include")
	@IncludePath("$(SRC_DIR)/include/util")
	source
		"lapi.c", "lauxlib.c", "lbaselib.c", "lcode.c",
		"ldebug.c", "ldo.c", "ldump.c", "lfunc.c", "lgc.c", "linit.c",
		"llex.c", "lmem.c", "lobject.c", "lopcodes.c",
		"lparser.c", "lstate.c", "lstring.c",
		"ltable.c", "ltm.c", "lundump.c", "lvm.c", "lzio.c"

	depends embox.mem.heap_api
	depends embox.lib.LibC
	depends embox.lib.FileFS
	depends lua_lib
}

module lua_lib {
	/* FIXME
	 * 1.it depends from lua_core (for ltablib.c)
	 */
	source "ltablib.c", "ldblib.c"

	@InitFS
	source "fib.lua"

	depends embox.lib.LibC
}
