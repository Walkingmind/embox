diff -aur samba-3.6.18/source3/configure samba/source3/configure
--- samba-3.6.18/source3/configure	2013-08-12 11:26:02.000000000 +0400
+++ samba/source3/configure	2013-08-25 00:38:55.550805600 +0400
@@ -8127,10 +8127,10 @@
 else
 
     if test "$cross_compiling" = yes; then :
-  { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
-$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error $? "cannot run test program while cross compiling
-See \`config.log' for more details" "$LINENO" 5; }
+#  { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+#$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
+#as_fn_error $? "cannot run test program while cross compiling
+#See \`config.log' for more details" "$LINENO" 5; }
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -11957,7 +11957,7 @@
 _ACEOF
 
 else
-  as_fn_error $? "Required function not found" "$LINENO" 5
+echo #  as_fn_error $? "Required function not found" "$LINENO" 5
 fi
 done
 
@@ -18954,17 +18954,17 @@
 #define HAVE_EXTATTR_DELETE_FILE 1
 _ACEOF
 
-		for ac_func in extattr_delete_fd extattr_delete_link extattr_get_fd extattr_get_file extattr_get_link extattr_list_fd extattr_list_file extattr_list_link extattr_set_fd extattr_set_file extattr_set_link
-do :
-  as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
-ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
-if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
-  cat >>confdefs.h <<_ACEOF
-#define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-done
+#		for ac_func in extattr_delete_fd extattr_delete_link extattr_get_fd extattr_get_file extattr_get_link extattr_list_fd extattr_list_file extattr_list_link extattr_set_fd extattr_set_file extattr_set_link
+#do :
+#  as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
+#ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
+#if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
+#  cat >>confdefs.h <<_ACEOF
+##define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
+#_ACEOF
+#
+#fi
+#done
 
 
 fi
@@ -20784,17 +20784,17 @@
 TDB_CFLAGS="-I$tdbdir/include"
 
 
-for ac_func in mmap pread pwrite getpagesize utime
-do :
-  as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
-ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
-if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
-  cat >>confdefs.h <<_ACEOF
-#define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-done
+#for ac_func in mmap pread pwrite getpagesize utime
+#do :
+#  as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
+#ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
+#if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
+#  cat >>confdefs.h <<_ACEOF
+##define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
+#_ACEOF
+#
+#fi
+#done
 
 for ac_header in getopt.h sys/select.h sys/time.h
 do :
diff -aur samba-3.6.18/source3/Makefile.in samba/source3/Makefile.in
--- samba-3.6.18/source3/Makefile.in	2013-08-12 11:25:27.000000000 +0400
+++ samba/source3/Makefile.in	2013-08-21 17:33:20.725181326 +0400
@@ -218,7 +218,7 @@
 
 SBIN_PROGS = bin/smbd@EXEEXT@ bin/nmbd@EXEEXT@ @SWAT_SBIN_TARGETS@ @EXTRA_SBIN_PROGS@
 
-BIN_PROGS1 = bin/smbclient@EXEEXT@ bin/net@EXEEXT@ bin/smbspool@EXEEXT@ \
+BIN_PROGS1 = bin/smbclient$(EXEEXT) bin/net@EXEEXT@ bin/smbspool@EXEEXT@ \
 	bin/testparm@EXEEXT@ bin/smbstatus@EXEEXT@ bin/smbget@EXEEXT@ \
 	bin/smbta-util@EXEEXT@
 BIN_PROGS2 = bin/smbcontrol@EXEEXT@ bin/smbtree@EXEEXT@ $(TDBBACKUP) \
@@ -1805,7 +1805,7 @@
 		$(KRB5LIBS) $(LDAP_LIBS) $(LIBTALLOC_LIBS) $(LIBTEVENT_LIBS) $(LIBTDB_LIBS) \
 		$(LIBWBCLIENT_LIBS) $(ZLIB_LIBS) $(PASSDB_LIBS)
 
-bin/smbclient@EXEEXT@: $(BINARY_PREREQS) $(CLIENT_OBJ) @BUILD_POPT@ $(LIBTALLOC) $(LIBTEVENT) $(LIBTDB) $(LIBWBCLIENT)
+bin/smbclient$(EXEEXT): $(BINARY_PREREQS) $(CLIENT_OBJ) @BUILD_POPT@ $(LIBTALLOC) $(LIBTEVENT) $(LIBTDB) $(LIBWBCLIENT)
 	@echo Linking $@
 	@$(CC) -o $@ $(CLIENT_OBJ) $(LDFLAGS) $(DYNEXP) \
 		$(TERMLDFLAGS) $(TERMLIBS) $(LIBS) $(POPT_LIBS) \
diff -aur samba-3.6.18/source3/client/client.c samba/source3/client/client.c
--- samba-3.6.18/source3/client/client.c	2013-08-12 11:25:27.000000000 +0400
+++ samba/source3/client/client.c	2013-08-24 22:23:48.661739207 +0400
@@ -5101,7 +5101,7 @@
   main program
 ****************************************************************************/
 
- int main(int argc,char *argv[])
+ int smbclient_main(int argc,char *argv[])
 {
 	char *base_directory = NULL;
 	int opt;
