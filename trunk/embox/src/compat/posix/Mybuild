package embox.compat.posix

static module LibPosix {
	@IncludePath("$(SRC_DIR)/compat/posix/include")
	source "exec.c", 
		"file.c", 
		"file_op.c", 
		"fs.c", 
		"fork.c", 
		"getopt.c", 
		"select.c", 
		"utsname.c", 
		"wait.c", 
		"time.c", 
		"isatty.c",
		"dup.c"

	depends embox.util.LibUtil
	depends embox.kernel.task.api 
	depends embox.kernel.task.errno
	depends embox.fs.core
	depends posix_env
	depends stdio
}

module stdio {
	@IncludePath("$(SRC_DIR)/compat/posix/include")
	source "stdio.c"
}

@DefaultImpl(bootstrap_posix_env)
abstract module posix_env { }

module bootstrap_posix_env extends posix_env {

    @IncludePath("$(SRC_DIR)/compat/posix/include")
    source "env/bs_posix_env.c"

    depends embox.kernel.task.api
    depends embox.driver.virtual.diag_device
}

