package embox.mem

@DefaultImpl(heap_bm)
abstract module heap_api {
	option number heap_size = 524288
	depends embox.kernel.task.resource.task_heap
}

@DefaultImpl(heap_afterfree_default)
abstract module heap_afterfree { }

module heap_bm extends heap_api {
	source "heap_bm.c"
	source "malloc.c"

	depends page_api
	depends heap_lds
	depends embox.mem.static_heap
	depends heap_afterfree
	
	depends embox.kernel.task.resource.task_heap
	depends embox.kernel.task.kernel_task
	depends embox.kernel.task.api
}

module heap_simple extends heap_api {
	source "heap_simple.c"

	depends heap_lds
	depends embox.mem.static_heap
} 

module static_heap {
	option number heap_size = 1048576
	source "static_heap.c"
	depends embox.mem.heap_lds
	depends embox.mem.bitmask
}

module heap_afterfree_default extends heap_afterfree {
	source "heap_afterfree.c"
}


