package embox.kernel.cpu

@DefaultImpl(no_bkl)
abstract module bkl_api {
}

module no_bkl extends bkl_api {
	source "no_bkl_impl.h"
}

module bkl extends bkl_api {
	source "bkl.c"
	depends cpu_api
}

module libsched {
	source "libsched.c"
}

module libthread {
	source "libthread.c"
}

@DefaultImpl(onecpu)
abstract module cpu_api {
	option number cpu_count
}

module onecpu extends cpu_api {
	option number cpu_count = 1
	source "onecpu_impl.h"
}

module ncpu extends cpu_api {
	option number cpu_count = 2
	source "ncpu.c", "ncpu_impl.h", "ncpu.lds.S"
}
