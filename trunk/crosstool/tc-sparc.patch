--- binutils-2.22/gas/config/tc-sparc.c	2011-09-22 04:03:28.000000000 +0400
+++ binutils-2.22/gas/config/tc-sparc.c.new	2012-01-23 16:18:42.000000000 +0400
@@ -301,6 +301,7 @@
   default_arch_size = sparc_arch_size = sa->default_arch_size;
   default_init_p = 1;
   default_arch_type = sa->arch_type;
+  hwcap_allowed |= sa->hwcap_allowed;
 }
 
 /* Called by TARGET_FORMAT.  */
